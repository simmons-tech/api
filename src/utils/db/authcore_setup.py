import base64
import pbkdf2
import os
import json

from db import *

user_db = init('user')
user = user_db.query(User).get( 'admin' )
if user:
	exit() # TODO: Shouldn't exit because other stuff runs below.
newuser = User()
newuser.username = 'admin'
newuser.salt = base64.b64encode( os.urandom(128) )
newuser.passhash = pbkdf2.PBKDF2( 'password', newuser.salt ).hexread(32)
user_db.add( newuser )
user_db.commit()

group_db = init('group')
group = group_db.query(Group).get( 'accounts-admin' )
if group:
	exit()
newgroup = Group()
newgroup.groupname = 'accounts-admin'
newgroup.owner = 'accounts-admin'
newgroup.immediate_members = json.dumps(['admin'])
newgroup.subgroups = json.dumps([])
group_db.add( newgroup )
group_db.commit()

room_db = init('room')
allRooms = {}

sections = {}
sections['23AB']=[
	'224A',
	'225',
	'224B',
	'244B',
	'244C',
	'252',
	'228',
	'229',
	'321',
	'322B',
	'322C',
	'324',
	'326',
	'341',
	'344',
	'322D',
	'325',
	'327',
	'345',
	'329',
	'328',
	'330']
sections['34C']=[
	'337',
	'340A',
	'340B',
	'379A',
	'371',
	'381',
	'372',
	'373',
	'374',
	'375',
	'376',
	'377',
	'378',
	'379B',
	'380',
	'438',
	'440',
	'472',
	'473',
	'474',
	'475',
	'476',
	'477',
	'478',
	'479A',
	'479B']
sections['4AB']=[
	'421C',
	'422B',
	'424A',
	'428',
	'446',
	'421B',
	'422C',
	'424B',
	'426',
	'427',
	'447',
	'448',
	'433',
	'451',
	'464',
	'467',
	'429',
	'450',
	'452',
	'465',
	'466']
sections['5AB']=[
	'521C',
	'522B',
	'524',
	'548',
	'521B',
	'522C',
	'525',
	'526',
	'527C',
	'543',
	'544',
	'545',
	'549A',
	'549B',
	'533',
	'553',
	'532',
	'534',
	'535',
	'550',
	'551',
	'552',
	'564',
	'565',
	'566',
	'569']
sections['6AB']=[
	'627',
	'645B',
	'624A',
	'624B',
	'625',
	'626',
	'643',
	'644',
	'645A',
	'647',
	'648',
	'649',
	'650',
	'652',
	'664',
	'628',
	'629',
	'631B',
	'631C',
	'631D',
	'632',
	'633',
	'653',
	'665',
	'667']
sections['56C']=[
	'537',
	'575',
	'573',
	'574',
	'577',
	'578A',
	'578B',
	'538',
	'539',
	'540',
	'570',
	'571',
	'572A',
	'572B',
	'634',
	'635',
	'675',
	'636',
	'637',
	'638',
	'639',
	'640',
	'670',
	'672',
	'673',
	'674',
	'678']
sections['7ABC']=[
	'721',
	'724',
	'741A',
	'725',
	'727',
	'728',
	'743',
	'744',
	'746',
	'747',
	'748C',
	'741B',
	'729',
	'732',
	'733',
	'730',
	'731',
	'748B',
	'738B',
	'780',
	'778',
	'776',
	'779',
	'739',
	'775',
	'740',
	'738C']
sections['8910A']=[
	'824',
	'821',
	'846',
	'825',
	'924',
	'921C',
	'922C',
	'921B',
	'945',
	'922D',
	'925',
	'946',
	'1024',
	'1021D',
	'1022B',
	'1021C',
	'1045',
	'1022C',
	'1044',
	'1025',
	'1043',
	'1046',
	'1021A']
sections['8910B']=[
	'832',
	'866',
	'833',
	'871',
	'865',
	'872',
	'932',
	'971',
	'931',
	'933',
	'966',
	'972',
	'936',
	'1036',
	'1052A',
	'1064',
	'1032',
	'1066',
	'1072',
	'1033',
	'1052B',
	'1065',
	'1031B',
	'1034',
	'1031C']
sections['8910C']=[
	'840',
	'878',
	'839',
	'873',
	'874',
	'875',
	'939',
	'978',
	'940',
	'941',
	'974',
	'973',
	'977',
	'979',
	'976',
	'938',
	'975',
	'1078B',
	'1040',
	'1039',
	'1073',
	'1074',
	'1076',
	'1077',
	'1038',
	'1078A',
	'1075']

for section in sections:
	newsection = Section()
	newsection.label = section
	room_db.add(newsection)

for section in sections:
	for room in sections[section]:
		# TODO: GRT Section
		allRooms[room] = Room()
		allRooms[room].num = room


# ****************************************
# *           CREATE BATHROOMS           *
# ****************************************

# source: curated by Tim Wilczynski '14, Jesse Orlowski '16, Cosmos Darwin '15, and Will Oursler '15

BathroomFloors = []

BathroomFloors.append([
	['244A', 'insuite', ['244B','244C']],
	['224C', 'insuite', ['224A','224B']],
	['228C', 'insuite', ['228','229']],
	['252A', 'internal', ['252']],
	['225A', 'internal', ['225']]])
BathroomFloors.append([
	['321A', 'internal', ['321']],
	['341A', 'internal', ['341']],
	['322A', 'insuite', ['322C','322D']],
	['322BA', 'internal', ['322B']],
	['325A', 'hallway', ['325','324']],
	['345A', 'hallway', ['345','344']],
	['326A', 'internal', ['326']],
	['327A', 'hallway', ['327']],
	['328A', 'internal', ['328']],
	['329A', 'hallway', ['329','330']],
	['372A', 'hallway', ['371','372']],
	['373A', 'hallway', ['373','374','375']],
	['337A', 'internal', ['337']],
	['378A', 'hallway', ['376','377','378']],
	['340AA', 'internal', ['340A']],
	['340BA', 'internal', ['340B']],
	['379C', 'insuite', ['379B','379A']],
	['381A', 'hallway', ['381','380']]])
BathroomFloors.append([
	['421A', 'insuite', ['421B','421C']],
	['422A', 'insuite', ['422B','422C']],
	['424C', 'insuite', ['424B','424A']],
	['427A', 'hallway', ['426','427']],
	['446A', 'hallway', ['446']],
	['447A', 'hallway', ['447','448']],
	['428A', 'hallway', ['428','429']],
	['450A', 'internal', ['450']],
	['451A', 'hallway', ['451','452']],
	['464A', 'internal', ['464']],
	['465A', 'hallway', ['465','466']],
	['433A', 'internal', ['433']],
	['467A', 'internal', ['467']],
	['473A', 'hallway', ['473','474', '475']],
	['472A', 'internal', ['472']],
	['438A', 'internal', ['438']],
	['440A', 'internal', ['440']],
	['479C', 'insuite', ['479A', '479B']],
	['478A', 'hallway', ['476', '477', '478']]])
BathroomFloors.append([
	['522A', 'insuite', ['522B','522C']],
	['521A', 'insuite', ['521B','521C']],
	['545A', 'hallway', ['543','544', '545']],
	['525A', 'hallway', ['524','525']],
	['548A', 'hallway', ['548']],
	['527A', 'hallway', ['526','527C']],
	['549C', 'insuite', ['549B','549A']],
	['551A', 'hallway', ['550','551']],
	['552A', 'hallway', ['552','553']],
	['564A', 'internal', ['564']],
	['532A', 'internal', ['532']],
	['565A', 'hallway', ['565','566']],
	['535B', 'hallway', ['534','535']],
	['533A', 'hallway', ['533']],
	['571A', 'hallway', ['569','570', '571']],
	['572C', 'insuite', ['572A','572B']],
	['574A', 'hallway', ['573','574']],
	['537A', 'hallway', ['537','538']],
	['575A', 'internal', ['575']],
	['540A', 'hallway', ['539','540']],
	['577A', 'hallway', ['577']],
	['578C', 'insuite', ['578A','578B']]])
BathroomFloors.append([
	['644A', 'hallway', ['643', '644']],
	['624C', 'insuite', ['624A', '624B']],
	['645C', 'insuite', ['645B', '645A']],
	['648A', 'hallway', ['647', '648']],
	['649A', 'hallway', ['649', '650']],
	['626A', 'hallway', ['625', '626']],
	['627A', 'hallway', ['627']],
	['628A', 'hallway', ['628', '629']],
	['652A', 'hallway', ['652', '653']],
	['664A', 'internal', ['664']],
	['631A', 'hallway', ['631B', '631C', '631D']],
	['665A', 'hallway', ['665', '667']],
	['633A', 'hallway', ['632','633']],
	['634A', 'internal', ['634']],
	['635A', 'internal', ['635']],
	['670A', 'internal', ['670']],
	['674A', 'hallway', ['672','673', '674']],
	['636A', 'hallway', ['636','637', '638']],
	['675A', 'hallway', ['675']],
	['640A', 'hallway', ['639','640']],
	['678A', 'internal', ['678']]])
BathroomFloors.append([
	['721A', 'internal', ['721']],
	['741C', 'insuite', ['741A', '741B']],
	['725A', 'hallway', ['724', '725']],
	['743A', 'hallway', ['743', '744']],
	['747A', 'hallway', ['746', '747']],
	['748D', 'insuite', ['748B', '748C']],
	['727A', 'hallway', ['727']],
	['728A', 'hallway', ['728', '729']],
	['730A', 'hallway', ['730', '731']],
	['732A', 'internal', ['732']],
	['733A', 'hallway', ['733']],
	['738A', 'insuite', ['738B', '738C']],
	['775A', 'hallway', ['775', '776']],
	['740A', 'hallway', ['739', '740']],
	['778A', 'hallway', ['778', '779']],
	['780A', 'internal', ['780']]])
BathroomFloors.append([
	['821A','internal',['821']],
	['824A','hallway',['824','825']],
	['846A','hallway',['846']],
	['832A','internal',['832']],
	['833A','hallway',['833']],
	['865A','hallway',['865','866']],
	['872A','hallway',['871','872']],
	['873A','hallway',['873','874','875']],
	['840A','hallway',['839','840']],
	['878A','internal',['878']]])
BathroomFloors.append([
	['921BA','internal',['921B']],
	['921A','insuite',['921C']],
	['922A','insuite',['922C','922D']],
	['924A','hallway',['924','925']],
	['945A','hallway',['945','946']],
	['931A','internal',['931']],
	['932A','internal',['932']],
	['933A','hallway',['933']],
	['936A','hallway',['936']],
	['965','hallway',['966']],
	['971A','hallway',['971','972']],
	['938A','internal',['938']],
	['939A','internal',['939']],
	['940AA','internal',['940']],
	['941A','internal',['941']],
	['973A','hallway',['973','974','975']],
	['977A', 'hallway', ['976','977']],
	['978A','hallway',['978','979']]])
BathroomFloors.append([
	['1021B','insuite',['1021A','1021D']],
	['1021CA','internal',['1021C']],
	['1022A','insuite',['1022B','1022C']],
	['1024A','hallway',['1024','1025']],
	['1044A','hallway',['1043','1044']],
	['1045A','hallway',['1045','1046']],
	['1031A','insuite',['1031B','1031C']],
	['1032A','internal',['1032']],
	['1033A','hallway',['1033','1034']],
	['1036A','hallway',['1036']],
	['1052C','insuite',['1052A','1052B']],
	['1064A','hallway',['1064','1065']],
	['1066A','internal',['1066']],
	['1072A','internal',['1072']],
	['1038A','internal',['1038']],
	['1039A','internal',['1039']],
	['1040AA','internal',['1040']],
	['1073A','hallway',['1073','1074']],
	['1077A','hallway',['1075','1076','1077']],
	['1078C','insuite',['1078A','1078B']]])

for floor in BathroomFloors:
    for bathroom in floor:
        allRooms[bathroom[0]] = Room()
        allRooms[bathroom[0]].num = bathroom[0]
        allRooms[bathroom[0]].type = 'Bathroom'
        for num in bathroom[2]:
            allRooms[num].bathroom = bathroom[0]


# ****************************************
# *            CAPACITY, SIZES           *
# ****************************************

# source: Simmons DB (via dbscaper.py)

listOfCapacitiesAndSizes = [
	['939', 'Double', '194'],
	['340B', 'Double', '204'],
	['341', 'Double', '204'],
	['440', 'Double', '207'],
	['548', 'Double', '207'],
	['941', 'Double', '215'],
	['824', 'Double', '219'],
	['1024', 'Double', '220'],
	['322C', 'Double', '220'],
	['924', 'Double', '224'],
	['446', 'Double', '226'],
	['422B', 'Double', '227'],
	['921C', 'Double', '228'],
	['1036', 'Double', '231'],
	['379A', 'Double', '232'],
	['522B', 'Double', '233'],
	['627', 'Double', '238'],
	['1021D', 'Double', '239'],
	['1022B', 'Double', '240'],
	['421C', 'Double', '240'],
	['521C', 'Double', '240'],
	['832', 'Double', '241'],
	['1078B', 'Double', '243'],
	['645B', 'Double', '243'],
	['451', 'Double', '244'],
	['572B', 'Double', '245'],
	['978', 'Double', '245'],
	['340A', 'Double', '246'],
	['675', 'Double', '246'],
	['922C', 'Double', '247'],
	['1052A', 'Double', '248'],
	['932', 'Double', '248'],
	['537', 'Double', '250'],
	['738B', 'Double', '250'],
	['840', 'Double', '252'],
	['533', 'Double', '253'],
	['472', 'Double', '255'],
	['464', 'Double', '256'],
	['553', 'Double', '256'],
	['329', 'Double', '257'],
	['664', 'Double', '257'],
	['780', 'Double', '257'],
	['322B', 'Double', '258'],
	['344', 'Double', '259'],
	['428', 'Double', '259'],
	['652', 'Double', '259'],
	['252', 'Double', '260'],
	['1040', 'Double', '261'],
	['721', 'Double', '261'],
	['940', 'Double', '264'],
	['971', 'Double', '264'],
	['224A', 'Double', '265'],
	['228', 'Double', '266'],
	['424A', 'Double', '267'],
	['524', 'Double', '267'],
	['225', 'Double', '268'],
	['324', 'Double', '268'],
	['326', 'Double', '268'],
	['433', 'Double', '268'],
	['724', 'Double', '268'],
	['438', 'Double', '271'],
	['650', 'Double', '271'],
	['624A', 'Double', '272'],
	['821', 'Double', '272'],
	['371', 'Double', '273'],
	['866', 'Double', '273'],
	['321', 'Double', '274'],
	['575', 'Double', '274'],
	['833', 'Double', '274'],
	['778', 'Double', '277'],
	['878', 'Double', '277'],
	['729', 'Double', '278'],
	['1064', 'Double', '282'],
	['635', 'Double', '283'],
	['1032', 'Double', '285'],
	['467', 'Double', '285'],
	['732', 'Double', '285'],
	['337', 'Double', '287'],
	['328', 'Double', '294'],
	['846', 'Double', '296'],
	['776', 'Double', '297'],
	['1066', 'Double', '298'],
	['1072', 'Double', '298'],
	['1039', 'Double', '299'],
	['871', 'Double', '303'],
	['381', 'Double', '304'],
	['931', 'Double', '304'],
	['933', 'Double', '304'],
	['741A', 'Double', '312'],
	['634', 'Double', '313'],
	['966', 'Double', '313'],
	['921B', 'Double', '320'],
	['1021C', 'Double', '326'],
	['945', 'Double', '329'],
	['733', 'Double', '346'],
	['452', 'Single', '117'],
	['653', 'Single', '117'],
	['779', 'Single', '119'],
	['427', 'Single', '120'],
	['527C', 'Single', '121'],
	['540', 'Single', '121'],
	['626', 'Single', '121'],
	['372', 'Single', '122'],
	['665', 'Single', '122'],
	['379B', 'Single', '123'],
	['447', 'Single', '123'],
	['473', 'Single', '123'],
	['549B', 'Single', '123'],
	['631B', 'Single', '123'],
	['728', 'Single', '123'],
	['731', 'Single', '123'],
	['973', 'Single', '123'],
	['322D', 'Single', '124'],
	['325', 'Single', '124'],
	['373', 'Single', '124'],
	['378', 'Single', '124'],
	['465', 'Single', '124'],
	['479B', 'Single', '124'],
	['525', 'Single', '124'],
	['624B', 'Single', '124'],
	['740', 'Single', '124'],
	['1031C', 'Single', '125'],
	['1045', 'Single', '125'],
	['1073', 'Single', '125'],
	['552', 'Single', '125'],
	['636', 'Single', '125'],
	['640', 'Single', '125'],
	['648', 'Single', '125'],
	['725', 'Single', '125'],
	['727', 'Single', '125'],
	['865', 'Single', '125'],
	['1022C', 'Single', '126'],
	['1044', 'Single', '126'],
	['224B', 'Single', '126'],
	['422C', 'Single', '126'],
	['424B', 'Single', '126'],
	['466', 'Single', '126'],
	['551', 'Single', '126'],
	['574', 'Single', '126'],
	['577', 'Single', '126'],
	['633', 'Single', '126'],
	['649', 'Single', '126'],
	['730', 'Single', '126'],
	['743', 'Single', '126'],
	['748C', 'Single', '126'],
	['478', 'Single', '127'],
	['578B', 'Single', '127'],
	['647', 'Single', '127'],
	['775', 'Single', '127'],
	['873', 'Single', '127'],
	['565', 'Single', '128'],
	['739', 'Single', '128'],
	['747', 'Single', '128'],
	['922D', 'Single', '128'],
	['1031B', 'Single', '129'],
	['421B', 'Single', '129'],
	['522C', 'Single', '129'],
	['872', 'Single', '129'],
	['1034', 'Single', '130'],
	['1052B', 'Single', '130'],
	['229', 'Single', '130'],
	['539', 'Single', '130'],
	['1065', 'Single', '131'],
	['345', 'Single', '131'],
	['629', 'Single', '131'],
	['534', 'Single', '132'],
	['639', 'Single', '132'],
	['645A', 'Single', '132'],
	['672', 'Single', '132'],
	['521B', 'Single', '133'],
	['572A', 'Single', '133'],
	['1074', 'Single', '134'],
	['549A', 'Single', '134'],
	['974', 'Single', '134'],
	['550', 'Single', '135'],
	['631C', 'Single', '135'],
	['874', 'Single', '135'],
	['1033', 'Single', '136'],
	['448', 'Single', '136'],
	['573', 'Single', '136'],
	['632', 'Single', '136'],
	['674', 'Single', '136'],
	['644', 'Single', '137'],
	['673', 'Single', '137'],
	['377', 'Single', '138'],
	['477', 'Single', '138'],
	['570', 'Single', '138'],
	['571', 'Single', '138'],
	['637', 'Single', '138'],
	['744', 'Single', '138'],
	['1076', 'Single', '139'],
	['475', 'Single', '139'],
	['566', 'Single', '139'],
	['746', 'Single', '139'],
	['569', 'Single', '140'],
	['1077', 'Single', '141'],
	['474', 'Single', '141'],
	['748B', 'Single', '141'],
	['977', 'Single', '142'],
	['374', 'Single', '143'],
	['544', 'Single', '145'],
	['380', 'Single', '147'],
	['643', 'Single', '147'],
	['825', 'Single', '147'],
	['670', 'Single', '148'],
	['972', 'Single', '148'],
	['532', 'Single', '150'],
	['925', 'Single', '150'],
	['376', 'Single', '152'],
	['741B', 'Single', '153'],
	['1025', 'Single', '154'],
	['578A', 'Single', '154'],
	['375', 'Single', '155'],
	['625', 'Single', '155'],
	['564', 'Single', '156'],
	['678', 'Single', '156'],
	['1038', 'Single', '157'],
	['426', 'Single', '157'],
	['526', 'Single', '157'],
	['543', 'Single', '160'],
	['738C', 'Single', '160'],
	['244B', 'Single', '161'],
	['538', 'Single', '161'],
	['979', 'Single', '162'],
	['479A', 'Single', '163'],
	['839', 'Single', '163'],
	['1078A', 'Single', '164'],
	['976', 'Single', '166'],
	['545', 'Single', '170'],
	['936', 'Single', '174'],
	['938', 'Single', '175'],
	['450', 'Single', '180'],
	['638', 'Single', '181'],
	['667', 'Single', '183'],
	['429', 'Single', '186'],
	['1043', 'Single', '187'],
	['1046', 'Single', '190'],
	['1075', 'Single', '190'],
	['946', 'Single', '191'],
	['330', 'Single', '192'],
	['975', 'Single', '193'],
	['631D', 'Single', '197'],
	['1021A', 'Single', '199'],
	['476', 'Single', '208'],
	['628', 'Single', '212'],
	['327', 'Single', '216'],
	['244C', 'Single', '222'],
	['535', 'Single', '239'],
	['875', 'Single', '253']]

# elements have the form [number, capacity, size]

for entry in listOfCapacitiesAndSizes:
    allRooms[entry[0]].type = entry[1]
    allRooms[entry[0]].size = entry[2]


# ****************************************
# *         BOSTON/CAMBRIDGE VIEW        *
# ****************************************

# source: 'jQueries' on Map/Directory SVG

sides = {}

sides['Boston'] = [
	'244C',
	'244B',
	'252',
	'321',
	'341',
	'344',
	'345',
	'371',
	'372',
	'373',
	'374',
	'375',
	'376',
	'377',
	'378',
	'379B',
	'379A',
	'381',
	'380',
	'472',
	'473',
	'474',
	'475',
	'476',
	'477',
	'478',
	'479B',
	'479A',
	'421B',
	'421C',
	'446',
	'447',
	'448',
	'450',
	'451',
	'452',
	'464',
	'465',
	'466',
	'467',
	'543',
	'544',
	'545',
	'548',
	'549B',
	'549A',
	'550',
	'551',
	'552',
	'553',
	'564',
	'565',
	'566',
	'569',
	'570',
	'571',
	'572B',
	'572A',
	'573',
	'574',
	'575',
	'577',
	'578B',
	'578A',
	'643',
	'644',
	'645B',
	'645A',
	'647',
	'648',
	'649',
	'650',
	'652',
	'653',
	'664',
	'665',
	'667',
	'670',
	'672',
	'673',
	'674',
	'675',
	'678',
	'775',
	'776',
	'778',
	'779',
	'780',
	'741A',
	'741B',
	'743',
	'744',
	'746',
	'747',
	'748C',
	'748B',
	'873',
	'874',
	'875',
	'878',
	'865',
	'866',
	'871',
	'872',
	'846',
	'973',
	'974',
	'975',
	'976',
	'977',
	'978',
	'979',
	'972',
	'971',
	'966',
	'921B',
	'946',
	'945',
	'1073',
	'1074',
	'1075',
	'1076',
	'1077',
	'1078B',
	'1078A',
	'1072',
	'1066',
	'1065',
	'1064',
	'1052A',
	'1052B',
	'1021C',
	'1021A',
	'1043',
	'1044',
	'1045',
	'1046']
sides['Cambridge'] = [
	'322D',
	'322C',
	'322B',
	'324',
	'325',
	'326',
	'327',
	'328',
	'329',
	'330',
	'337',
	'340A',
	'340B',
	'440',
	'438',
	'422B',
	'422C',
	'424A',
	'424B',
	'426',
	'427',
	'428',
	'429',
	'433',
	'224A',
	'224B',
	'225',
	'228',
	'229',
	'521B',
	'521C',
	'522B',
	'522C',
	'524',
	'525',
	'526',
	'527C',
	'532',
	'533',
	'534',
	'535',
	'537',
	'538',
	'539',
	'540',
	'624A',
	'624B',
	'625',
	'626',
	'627',
	'628',
	'629',
	'631B',
	'631C',
	'631D',
	'632',
	'633',
	'634',
	'635',
	'636',
	'637',
	'638',
	'639',
	'640',
	'738B',
	'738C',
	'739',
	'740',
	'733',
	'732',
	'731',
	'730',
	'729',
	'728',
	'727',
	'725',
	'724',
	'721',
	'840',
	'839',
	'832',
	'833',
	'821',
	'824',
	'825',
	'938',
	'939',
	'940',
	'941',
	'931',
	'932',
	'933',
	'936',
	'921C',
	'922C',
	'922D',
	'924',
	'925',
	'1038',
	'1039',
	'1040',
	'1021D',
	'1022C',
	'1022B',
	'1024',
	'1025',
	'1031B',
	'1031C',
	'1032',
	'1033',
	'1034',
	'1036']

for side in sides:
	for roomnum in sides[side]:
		allRooms[roomnum] = side

# ****************************************
# *            X & Y POSITION            *
# ****************************************

# source: 'jQueries' on Map/Directory SVG
# elements have the form [number, y dist from top, x dist from left]
# all y's are int multiples of 3, x's can be floats because of curvy walls
listOfTopsAndLefts = [
	['244C','1132','814'],
	['244B','1132','984'],
	['252','1132','1733.2650146484375'],
	['321','1030','440'],
	['341','1030','576'],
	['344','1030','780'],
	['345','1030','916'],
	['371','1030','3126'],
	['372','1030','3228'],
	['373','1030','3330'],
	['374','1030','3432'],
	['375','1030','3534'],
	['376','1030','3636'],
	['377','1030','3738'],
	['378','1030','3840'],
	['379B','1030','3942'],
	['379A','1030','4044'],
	['381','1030','4214'],
	['380','1030','4146'],
	['472','928','3126'],
	['473','928','3330'],
	['474','928','3432'],
	['475','928','3534'],
	['476','928','3636'],
	['477','928','3738'],
	['478','928','3840'],
	['479B','928','3942'],
	['479A','928','4044'],
	['421B','928','440'],
	['421C','928','440'],
	['446','928','1228.2919921875'],
	['447','928','1494'],
	['448','928','1596'],
	['450','928','1698'],
	['451','928','1800'],
	['452','928','2004'],
	['464','928','2106'],
	['465','928','2310'],
	['466','928','2412'],
	['467','928','2514'],
	['543','826','780'],
	['544','826','882'],
	['545','826','984'],
	['548','826','1292.4940185546875'],
	['549B','826','1494'],
	['549A','826','1596'],
	['550','826','1698'],
	['551','826','1800'],
	['552','826','1902'],
	['553','826','2004'],
	['564','826','2208'],
	['565','826','2310'],
	['566','826','2412'],
	['569','826','2514'],
	['570','826','2616'],
	['571','826','2718'],
	['572B','826','2820'],
	['572A','826','3024'],
	['573','826','3126'],
	['574','826','3228'],
	['575','826','3330'],
	['577','826','3840'],
	['578B','826','3942'],
	['578A','826','4044'],
	['643','724','780'],
	['644','724','882'],
	['645B','724','984'],
	['645A','724','1188'],
	['647','724','1290'],
	['648','724','1392'],
	['649','724','1494'],
	['650','724','1596'],
	['652','724','1800'],
	['653','724','2004'],
	['664','724','2106'],
	['665','724','2310'],
	['667','724','2412'],
	['670','724','2820'],
	['672','724','2922'],
	['673','724','3024'],
	['674','724','3126'],
	['675','724','3228'],
	['678','724','3840'],
	['775','622','3330'],
	['776','622','3432'],
	['778','622','3840'],
	['779','622','4146'],
	['780','622','4248'],
	['741A','622','440'],
	['741B','622','440'],
	['743','622','1086'],
	['744','622','1188'],
	['746','622','1290'],
	['747','622','1392'],
	['748C','622','1494'],
	['748B','622','1596'],
	['873','520','3330'],
	['874','520','3432'],
	['875','520','3534'],
	['878','520','3840'],
	['865','520','2310'],
	['866','520','2412'],
	['871','520','2620.39111328125'],
	['872','520','2820'],
	['846','520','1120'],
	['973','418','3330'],
	['974','418','3432'],
	['975','418','3534'],
	['976','418','3636'],
	['977','418','3738'],
	['978','418','3840'],
	['979','418','4044'],
	['972','418','2820'],
	['971','418','2619.6689453125'],
	['966','418','2412'],
	['921B','418','440'],
	['946','418','1188'],
	['945','418','949.9340209960938'],
	['1073','316','3330'],
	['1074','316','3432'],
	['1075','316','3534'],
	['1076','316','3636'],
	['1077','316','3738'],
	['1078B','316','3840'],
	['1078A','316','4044'],
	['1072','316','2718'],
	['1066','316','2514'],
	['1065','316','2412'],
	['1064','316','2208'],
	['1052A','316','2004'],
	['1052B','316','1902'],
	['1021C','316','440'],
	['1021A','316','678'],
	['1043','316','827.5780029296875'],
	['1044','316','984'],
	['1045','316','1086'],
	['1046','316','1188'],
	['322D','1030','678'],
	['322C','1030','440'],
	['322B','1030','440'],
	['324','1030','882'],
	['325','1030','1086'],
	['326','1030','1290'],
	['327','1030','1494'],
	['328','1030','1664.7860107421875'],
	['329','1030','1906'],
	['330','1030','2110'],
	['337','1030','3432'],
	['340A','1030','3811.71923828125'],
	['340B','1030','4146'],
	['440','928','4146'],
	['438','928','3432'],
	['422B','928','440'],
	['422C','928','678'],
	['424A','928','882'],
	['424B','928','1086'],
	['426','928','1290'],
	['427','928','1392'],
	['428','928','1494'],
	['429','928','1698'],
	['433','928','2412'],
	['224A','1132','882'],
	['224B','1132','1086'],
	['225','1132','1290'],
	['228','1132','1735.2650146484375'],
	['229','1132','1902'],
	['521B','826','440'],
	['521C','826','440'],
	['522B','826','440'],
	['522C','826','678'],
	['524','826','882'],
	['525','826','1086'],
	['526','826','1290'],
	['527C','826','1392'],
	['532','826','2310'],
	['533','826','2412'],
	['534','826','2616'],
	['535','826','2718'],
	['537','826','3432'],
	['538','826','3636'],
	['539','826','3738'],
	['540','826','3840'],
	['624A','724','882'],
	['624B','724','1086'],
	['625','724','1290'],
	['626','724','1392'],
	['627','724','1494'],
	['628','724','1803.6190185546875'],
	['629','724','2004'],
	['631B','724','2310'],
	['631C','724','2412'],
	['631D','724','2514'],
	['632','724','2616'],
	['633','724','2718'],
	['634','724','2922'],
	['635','724','3126'],
	['636','724','3330'],
	['637','724','3432'],
	['638','724','3534'],
	['639','724','3636'],
	['640','724','3738'],
	['738B','622','3432'],
	['738C','622','3636'],
	['739','622','3738'],
	['740','622','3840'],
	['733','622','2412'],
	['732','622','2208'],
	['731','622','2004'],
	['730','622','1902'],
	['729','622','1596'],
	['728','622','1494'],
	['727','622','1392'],
	['725','622','1086'],
	['724','622','882'],
	['721','622','440'],
	['840','520','3840'],
	['839','520','3707.182861328125'],
	['832','520','2208'],
	['833','520','2412'],
	['821','520','440'],
	['824','520','882'],
	['825','520','1086'],
	['938','418','3432'],
	['939','418','3579.178955078125'],
	['940','418','3806'],
	['941','418','4146'],
	['931','418','1902'],
	['932','418','2208'],
	['933','418','2412'],
	['936','418','2639.77685546875'],
	['921C','418','440'],
	['922C','418','440'],
	['922D','418','678'],
	['924','418','882'],
	['925','418','1086'],
	['1038','316','3432'],
	['1039','316','3566.715087890625'],
	['1040','316','3806'],
	['1021D','316','442'],
	['1022C','316','678'],
	['1022B','316','440'],
	['1024','316','882'],
	['1025','316','1086'],
	['1031B','316','1902'],
	['1031C','316','2004'],
	['1032','316','2208'],
	['1033','316','2412'],
	['1034','316','2514'],
	['1036','316','2629.59716796875']]

dimensionOfWindow = 34
for room in listOfTopsAndLefts:
    '''
    yields position of bottom-left corner of room
    relative to west-end at ground level, in windows.
    '''
    room[1] = 27 - int((float(room[1]) - 316.0) / dimensionOfWindow) # tops
    room[2] = int((float(room[2]) - 440.0) / dimensionOfWindow) # lefts
    allRooms[room[0]].Y = room[1]
    allRooms[room[0]].X = room[2]

# ****************************************
# *            HAS CURVY WALL            *
# ****************************************

curvyWalls = {}

curvyWalls['Minor'] = [
	'631D',
	'252',
	'340A',
	'438',
	'545',
	'627',
	'875',
	'839',
	'866',
	'871',
	'945',
	'966',
	'971',
	'938',
	'1034',
	'1066']
curvyWalls['Major'] = [
	'1021A',
	'933',
	'833',
	'776',
	'667',
	'337',
	'327',
	'228A']
curvyWalls['Awful'] = [
	'1043',
	'1036',
	'1039',
	'939',
	'936',
	'733',
	'729',
	'628',
	'575',
	'446',
	'548',
	'328']

for wallType in curvyWalls:
	for num in curvyWalls['wallType']:
		allRooms[num].hasCurvyWall = wallType

for num in allRooms:
    room_db.add(allRooms[num])
room_db.commit()
